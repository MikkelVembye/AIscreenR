<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="Screening with AI tools including gpt models from OpenAI.">
<title>AI screening tools for systematic reviews • AIscreenR</title>
<script src="deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="pkgdown.js"></script><meta property="og:title" content="AI screening tools for systematic reviews">
<meta property="og:description" content="Screening with AI tools including gpt models from OpenAI.">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="index.html">AIscreenR</a>

    <small class="nav-text text-danger me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Unreleased version">0.0.0.9016</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="articles/Using-ChatGPT-For-Screening.html">Using OpenAI's GPT API models for Title and Abstract Screening in Systematic Reviews</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="news/index.html">Changelog</a>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/MikkelVembye/AIscreenR/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-home">
<div class="row">
  <main id="main" class="col-md-9"><p><a href="https://mikkelvembye.github.io/AIscreenR/"><img src="reference/figures/AIscreenR_hex.png" align="right" width="180"></a></p>
<div class="section level1">
<div class="page-header"><h1 id="aiscreenr-ai-screening-tools-in-r-for-systematic-reviewing">AIscreenR: AI screening tools in R for systematic reviewing<a class="anchor" aria-label="anchor" href="#aiscreenr-ai-screening-tools-in-r-for-systematic-reviewing"></a>
</h1></div>
<!-- badges: start -->

<p>The goal of AIscreenR is to use AI tools to support screening processes (including title and abstract screening) in systematic reviews and related literature reviews. At the current stage, the main aim of the <code>AIscreenR</code> package is to support the use and testing of OpenAI’s GPT API models as the second screeners of titles and abstracts or alternatively to reduce research waste, i.e., the number of references needed to be screened by humans. The package allows user to apply OpenAI’s GPT API models from the <a href="https://platform.openai.com/docs/models/model-endpoint-compatibility" class="external-link">https://api.openai.com/v1/chat/completions</a> endpoint. In future developments, we expect to add further LLMs when APIs become available for other models, for example from Claude 2. For now, we invite other researchers to test this software so that we as a review community can get a better understanding of the performance of OpenAI’s GPT API models.</p>
<div class="section level2">
<h2 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h2>
<p>You can install the development version of AIscreenR from <a href="https://github.com/" class="external-link">GitHub</a> with:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># install.packages("devtools")</span></span>
<span><span class="fu">devtools</span><span class="fu">::</span><span class="fu">install_github</span><span class="op">(</span><span class="st">"MikkelVembye/AIscreenR"</span><span class="op">)</span></span></code></pre></div>
<p>Setting API key and checking rate limits</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Find your api key at https://platform.openai.com/account/api-keys </span></span>
<span><span class="co"># Thereafter, either encrypt it with the secret functions from the httr2 package</span></span>
<span><span class="co"># see https://httr2.r-lib.org/reference/secrets.html or run set_api_key() </span></span>
<span><span class="co"># and then enter you key.</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://mikkelvembye.github.io/AIscreenR/">AIscreenR</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://revtools.net" class="external-link">revtools</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://tibble.tidyverse.org/" class="external-link">tibble</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://dplyr.tidyverse.org" class="external-link">dplyr</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://future.futureverse.org" class="external-link">future</a></span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Setting API</span></span>
<span><span class="fu"><a href="reference/set_api_key.html">set_api_key</a></span><span class="op">(</span><span class="fu">AIscreenR</span><span class="fu">:::</span><span class="fu">testing_key_chatgpt</span><span class="op">(</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Obtain rate limits info (Default is "gpt-3.5-turbo-0613")</span></span>
<span><span class="va">rate_limits</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/rate_limits_per_minute.html">rate_limits_per_minute</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="va">rate_limits</span></span>
<span><span class="co">#&gt; # A tibble: 1 × 3</span></span>
<span><span class="co">#&gt;   model              requests_per_minute tokens_per_minute</span></span>
<span><span class="co">#&gt;   &lt;chr&gt;                            &lt;dbl&gt;             &lt;dbl&gt;</span></span>
<span><span class="co">#&gt; 1 gpt-3.5-turbo-0613               10000           2000000</span></span>
<span></span>
<span><span class="co"># Obtain rate limits info across multiple models</span></span>
<span><span class="va">rate_limits</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/rate_limits_per_minute.html">rate_limits_per_minute</a></span><span class="op">(</span>model <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"gpt-3.5-turbo-0613"</span>, <span class="st">"gpt-4"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">rate_limits</span></span>
<span><span class="co">#&gt; # A tibble: 2 × 3</span></span>
<span><span class="co">#&gt;   model              requests_per_minute tokens_per_minute</span></span>
<span><span class="co">#&gt;   &lt;chr&gt;                            &lt;dbl&gt;             &lt;dbl&gt;</span></span>
<span><span class="co">#&gt; 1 gpt-3.5-turbo-0613               10000           2000000</span></span>
<span><span class="co">#&gt; 2 gpt-4                            10000            300000</span></span></code></pre></div>
<p>How to load ris files. In this example we have downloaded the ris files from the <a href="https://eppi.ioe.ac.uk/EPPIReviewer-Web/home" class="external-link">EPPI-Reviewer</a>.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Loading ris file data via revtools</span></span>
<span><span class="va">ris_dat_excl</span> <span class="op">&lt;-</span> <span class="fu">revtools</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/revtools/man/read_bibliograpy.html" class="external-link">read_bibliography</a></span><span class="op">(</span><span class="st">"path/FFT_exclude.ris"</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/warning.html" class="external-link">suppressWarnings</a></span><span class="op">(</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span>studyid <span class="op">=</span> <span class="va">eppi_id</span>, <span class="va">title</span>, <span class="va">abstract</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="https://tibble.tidyverse.org/reference/as_tibble.html" class="external-link">as_tibble</a></span><span class="op">(</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span></span>
<span>    human_code <span class="op">=</span> <span class="fl">0</span> <span class="co"># Indicating exclusion</span></span>
<span>  <span class="op">)</span></span>
<span></span>
<span><span class="va">ris_dat_incl</span> <span class="op">&lt;-</span> <span class="fu">revtools</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/revtools/man/read_bibliograpy.html" class="external-link">read_bibliography</a></span><span class="op">(</span><span class="st">"path/FFT_include.ris"</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/warning.html" class="external-link">suppressWarnings</a></span><span class="op">(</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span>studyid <span class="op">=</span> <span class="va">eppi_id</span>, <span class="va">title</span>, <span class="va">abstract</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="https://tibble.tidyverse.org/reference/as_tibble.html" class="external-link">as_tibble</a></span><span class="op">(</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span></span>
<span>    human_code <span class="op">=</span> <span class="fl">1</span> <span class="co"># Indicating inclusion</span></span>
<span>  <span class="op">)</span></span>
<span></span>
<span><span class="va">filges2015_dat</span><span class="op">&lt;-</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/bind_rows.html" class="external-link">bind_rows</a></span><span class="op">(</span><span class="va">ris_dat_excl</span>, <span class="va">ris_dat_incl</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">filges2015_dat</span>, <span class="fl">10</span><span class="op">)</span></span>
<span><span class="co">#&gt; # A tibble: 10 × 4</span></span>
<span><span class="co">#&gt;    studyid title                                             abstract human_code</span></span>
<span><span class="co">#&gt;    &lt;chr&gt;   &lt;chr&gt;                                             &lt;chr&gt;         &lt;dbl&gt;</span></span>
<span><span class="co">#&gt;  1 9434957 Estimating and communicating prognosis in advanc… "Progno…          0</span></span>
<span><span class="co">#&gt;  2 9433838 Self-Directed Behavioral Family Intervention: Do… "Behavi…          0</span></span>
<span><span class="co">#&gt;  3 9431171 Frequency domain source localization shows state… "The to…          0</span></span>
<span><span class="co">#&gt;  4 9433968 A Review of: 'Kearney, C. A. (2010). Helping Chi… "The ar…          0</span></span>
<span><span class="co">#&gt;  5 9434460 Topographic differences in the adolescent matura… "STUDY …          0</span></span>
<span><span class="co">#&gt;  6 9433554 BOOK REVIEW                                       "The ar…          0</span></span>
<span><span class="co">#&gt;  7 9435130 Rapid improvement of depression and quality of l… "Backgr…          0</span></span>
<span><span class="co">#&gt;  8 9432040 Pictorial cognitive task solving and dynamics of… "AIMS: …          0</span></span>
<span><span class="co">#&gt;  9 9434093 Enhancing the Impact of Parent Training Through … "New an…          0</span></span>
<span><span class="co">#&gt; 10 9431505 EEG spectrum as information carrier               "Sponta…          0</span></span></code></pre></div>
<p>Example of how to enter a prompt. Can also be done in word (see vignette).</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">prompt</span> <span class="op">&lt;-</span> <span class="st">"Evaluate the following study based on the selection criteria</span></span>
<span><span class="st">for a systematic review on the effects of family-based interventions on drug abuse</span></span>
<span><span class="st">reduction for young people in treatment for non-opioid drug use.</span></span>
<span><span class="st">A family-based intervention (FFT) is equivalent to a behavior focused</span></span>
<span><span class="st">family therapy, where young people’s drug use is understood in relation to family</span></span>
<span><span class="st">behavior problems. Family-based interventions also includes manual-based family therapies as</span></span>
<span><span class="st">it targets young people and their families as a system throughout treatment, and thereby recognizes</span></span>
<span><span class="st">the important role of the family system in the development and treatment of young people’s drug use</span></span>
<span><span class="st">problems. FFT was developed in the late 1980s on request from the US National Institute on Drug Abuse</span></span>
<span><span class="st">(NIDA). The development of FFT was initially heavily inspired by the alcohol abuse program</span></span>
<span><span class="st">Community Reinforcement Approach (CRA), which was aimed at restructuring the environment</span></span>
<span><span class="st">to reinforce non-alcohol associated activities. FFT developed to have more emphasis on</span></span>
<span><span class="st">contingency contracting, impulse control strategies specific to drug use,</span></span>
<span><span class="st">and increased emphasis on involvement of family members in treatment.</span></span>
<span><span class="st">FFT is designed to accommodate diverse populations of youths with a variety of behavioral,</span></span>
<span><span class="st">cultural and individual preferences. FFT has evolved for use in severe behavioral disturbances</span></span>
<span><span class="st">known to co-exist with substance use and dependence, and the core interventions</span></span>
<span><span class="st">have been enhanced to address several mental health related problems commonly occurring</span></span>
<span><span class="st">as comorbid conditions in drug use treatment participant.  For each study,</span></span>
<span><span class="st">I would like you to assess:  1) Is the study about a family-based intervention,</span></span>
<span><span class="st">such as Functional Family Therapy, Multidimensional Family Therapy, or</span></span>
<span><span class="st">Behavioral Family Therapy? (Outpatient manual-based interventions of any</span></span>
<span><span class="st">duration delivered to young people and their families). If not, exclude study.</span></span>
<span><span class="st">2) Are the participants in outpatient drug treatment primarily</span></span>
<span><span class="st">for non-opioid drug use? 3) Are the participants within age 11–21?"</span></span></code></pre></div>
<p>Approximate price of screening</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">app_obj</span> <span class="op">&lt;-</span> </span>
<span>  <span class="fu"><a href="reference/approximate_price_gpt.html">approximate_price_gpt</a></span><span class="op">(</span></span>
<span>    data <span class="op">=</span> <span class="va">filges2015_dat</span>,</span>
<span>    prompt <span class="op">=</span> <span class="va">prompt</span>,</span>
<span>    studyid <span class="op">=</span> <span class="va">studyid</span>, <span class="co"># indicate the variable with the studyid in the data</span></span>
<span>    title <span class="op">=</span> <span class="va">title</span>, <span class="co"># indicate the variable with the titles in the data</span></span>
<span>    abstract <span class="op">=</span> <span class="va">abstract</span>, <span class="co"># indicate the variable with the abstracts in the data</span></span>
<span>    model <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"gpt-3.5-turbo-0613"</span><span class="op">)</span>,</span>
<span>    rep <span class="op">=</span> <span class="fl">10</span> </span>
<span>  <span class="op">)</span></span>
<span></span>
<span><span class="va">app_obj</span></span>
<span><span class="co">#&gt; The approximate price of the (simple) screening will be around $4.477.</span></span>
<span></span>
<span><span class="va">app_obj</span><span class="op">$</span><span class="va">price_dollar</span></span>
<span><span class="co">#&gt; [1] 4.477</span></span>
<span><span class="va">app_obj</span><span class="op">$</span><span class="va">price_data</span></span>
<span><span class="co">#&gt; # A tibble: 1 × 5</span></span>
<span><span class="co">#&gt;   model     iterations input_price_dollar output_price_dollar total_price_dollar</span></span>
<span><span class="co">#&gt;   &lt;chr&gt;          &lt;dbl&gt;              &lt;dbl&gt;               &lt;dbl&gt;              &lt;dbl&gt;</span></span>
<span><span class="co">#&gt; 1 gpt-3.5-…         10               4.42              0.0594               4.48</span></span></code></pre></div>
<p>Example of how to conduct simple screening, getting return 1 if a reference should be included, 0 if excluded, and 1.1 if a firm decision cannot be reached.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Subsetting the number of references to speed up the tutorial screening</span></span>
<span><span class="fu"><a href="https://future.futureverse.org/reference/plan.html" class="external-link">plan</a></span><span class="op">(</span><span class="va">multisession</span><span class="op">)</span></span>
<span><span class="va">test_obj</span> <span class="op">&lt;-</span> </span>
<span>  <span class="fu"><a href="reference/tabscreen_gpt.html">tabscreen_gpt</a></span><span class="op">(</span></span>
<span>    data <span class="op">=</span> <span class="va">filges2015_dat</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">140</span><span class="op">:</span><span class="fl">150</span><span class="op">)</span>,<span class="op">]</span>,</span>
<span>    prompt <span class="op">=</span> <span class="va">prompt</span>, </span>
<span>    studyid <span class="op">=</span> <span class="va">studyid</span>, <span class="co"># indicate the variable with the studyid in the data</span></span>
<span>    title <span class="op">=</span> <span class="va">title</span>, <span class="co"># indicate the variable with the titles in the data</span></span>
<span>    abstract <span class="op">=</span> <span class="va">abstract</span>, <span class="co"># indicate the variable with the abstracts in the data</span></span>
<span>    model <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"gpt-3.5-turbo-0613"</span><span class="op">)</span>,</span>
<span>    reps <span class="op">=</span> <span class="fl">2</span> <span class="co"># Number of times the same question is asked to ChatGPT</span></span>
<span>  <span class="op">)</span> </span>
<span><span class="co">#&gt; * The approximate price of the current (simple) screening will be around $0.036.</span></span>
<span><span class="fu"><a href="https://future.futureverse.org/reference/plan.html" class="external-link">plan</a></span><span class="op">(</span><span class="va">sequential</span><span class="op">)</span></span>
<span><span class="va">test_obj</span></span>
<span><span class="co">#&gt; Find data with all answers by executing</span></span>
<span><span class="co">#&gt;  x$answer_data_all</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Find data with the result aggregated across multiple answers by executing</span></span>
<span><span class="co">#&gt;  x$answer_data_sum</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Find total price for the screening by executing</span></span>
<span><span class="co">#&gt;  x$price_dollar</span></span>
<span></span>
<span><span class="co"># Data sets in object</span></span>
<span><span class="va">price_dat</span> <span class="op">&lt;-</span> <span class="va">test_obj</span><span class="op">$</span><span class="va">price_dat</span></span>
<span><span class="va">price_dat</span></span>
<span><span class="co">#&gt; # A tibble: 1 × 5</span></span>
<span><span class="co">#&gt;   model     iterations input_price_dollar output_price_dollar price_total_dollar</span></span>
<span><span class="co">#&gt;   &lt;chr&gt;          &lt;dbl&gt;              &lt;dbl&gt;               &lt;dbl&gt;              &lt;dbl&gt;</span></span>
<span><span class="co">#&gt; 1 gpt-3.5-…          2             0.0323             0.00048             0.0328</span></span>
<span></span>
<span></span>
<span><span class="va">all_dat</span> <span class="op">&lt;-</span> <span class="va">test_obj</span><span class="op">$</span><span class="va">answer_data_all</span></span>
<span><span class="va">all_dat</span> <span class="op">|&gt;</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="va">human_code</span>, <span class="va">decision_binary</span><span class="op">)</span></span>
<span><span class="co">#&gt; # A tibble: 22 × 2</span></span>
<span><span class="co">#&gt;    human_code decision_binary</span></span>
<span><span class="co">#&gt;         &lt;dbl&gt;           &lt;dbl&gt;</span></span>
<span><span class="co">#&gt;  1          0               0</span></span>
<span><span class="co">#&gt;  2          0               0</span></span>
<span><span class="co">#&gt;  3          0               0</span></span>
<span><span class="co">#&gt;  4          0               0</span></span>
<span><span class="co">#&gt;  5          0               0</span></span>
<span><span class="co">#&gt;  6          0               0</span></span>
<span><span class="co">#&gt;  7          0               0</span></span>
<span><span class="co">#&gt;  8          0               0</span></span>
<span><span class="co">#&gt;  9          0               0</span></span>
<span><span class="co">#&gt; 10          0               0</span></span>
<span><span class="co">#&gt; # ℹ 12 more rows</span></span>
<span></span>
<span></span>
<span><span class="va">sum_dat</span> <span class="op">&lt;-</span> <span class="va">test_obj</span><span class="op">$</span><span class="va">answer_data_sum</span></span>
<span><span class="va">sum_dat</span> <span class="op">|&gt;</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="va">human_code</span>, <span class="va">final_decision_gpt</span><span class="op">:</span><span class="va">final_decision_gpt_num</span><span class="op">)</span></span>
<span><span class="co">#&gt; # A tibble: 11 × 3</span></span>
<span><span class="co">#&gt;    human_code final_decision_gpt final_decision_gpt_num</span></span>
<span><span class="co">#&gt;         &lt;dbl&gt; &lt;chr&gt;                               &lt;dbl&gt;</span></span>
<span><span class="co">#&gt;  1          0 Exclude                                 0</span></span>
<span><span class="co">#&gt;  2          0 Exclude                                 0</span></span>
<span><span class="co">#&gt;  3          0 Exclude                                 0</span></span>
<span><span class="co">#&gt;  4          0 Exclude                                 0</span></span>
<span><span class="co">#&gt;  5          0 Exclude                                 0</span></span>
<span><span class="co">#&gt;  6          0 Exclude                                 0</span></span>
<span><span class="co">#&gt;  7          0 Exclude                                 0</span></span>
<span><span class="co">#&gt;  8          0 Exclude                                 0</span></span>
<span><span class="co">#&gt;  9          0 Exclude                                 0</span></span>
<span><span class="co">#&gt; 10          0 Exclude                                 0</span></span>
<span><span class="co">#&gt; 11          0 Exclude                                 0</span></span></code></pre></div>
</div>
</div>

  </main><aside class="col-md-3"><div class="links">
<h2 data-toc-skip>Links</h2>
<ul class="list-unstyled">
<li><a href="https://github.com/MikkelVembye/AIscreenR/" class="external-link">Browse source code</a></li>
<li><a href="https://github.com/MikkelVembye/AIscreenR/issues" class="external-link">Report a bug</a></li>
</ul>
</div>

<div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li>
<a href="https://opensource.org/licenses/mit-license.php" class="external-link">MIT</a> + file <a href="LICENSE-text.html">LICENSE</a>
</li>
</ul>
</div>


<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing AIscreenR</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>Mikkel H. Vembye <br><small class="roles"> Author, maintainer </small> <a href="https://orcid.org/0000-0001-9071-0724" target="orcid.widget" aria-label="ORCID" class="external-link"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a> </li>
<li>Thomas Olsen <br><small class="roles"> Author </small>  </li>
</ul>
</div>

<div class="dev-status">
<h2 data-toc-skip>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://github.com/MikkelVembye/AIscreenR/actions/workflows/R-CMD-check.yaml" class="external-link"><img src="https://github.com/MikkelVembye/AIscreenR/actions/workflows/R-CMD-check.yaml/badge.svg" alt="R-CMD-check"></a></li>
<li><a href="https://app.codecov.io/gh/MikkelVembye/AIscreenR?branch=main" class="external-link"><img src="https://codecov.io/gh/MikkelVembye/AIscreenR/branch/main/graph/badge.svg" alt="Codecov test coverage"></a></li>
</ul>
</div>

  </aside>
</div>


    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by Mikkel H. Vembye, Thomas Olsen.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
