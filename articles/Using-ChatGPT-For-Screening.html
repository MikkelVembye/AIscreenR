<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="AIscreenR">
<title>Using ChatGPT for Title and Abstract Screening in Systematic Reviews • AIscreenR</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.2.2/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.2.2/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Using ChatGPT for Title and Abstract Screening in Systematic Reviews">
<meta property="og:description" content="AIscreenR">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">AIscreenR</a>

    <small class="nav-text text-danger me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Unreleased version">0.0.0.9009</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="active nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/Using-ChatGPT-For-Screening.html">Using ChatGPT for Title and Abstract Screening in Systematic Reviews</a>
  </div>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/MikkelVembye/AIscreenR/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Using ChatGPT for Title and Abstract Screening in Systematic Reviews</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/MikkelVembye/AIscreenR/blob/HEAD/vignettes/Using-ChatGPT-For-Screening.Rmd" class="external-link"><code>vignettes/Using-ChatGPT-For-Screening.Rmd</code></a></small>
      <div class="d-none name"><code>Using-ChatGPT-For-Screening.Rmd</code></div>
    </div>

    
    
<div class="warning" style="margin-left:2em; margin-right:2em; margin-bottom:2em; margin-top:2em; padding:0.1em; background-color: #d7dbdd; border: solid #bdc3c7 3px">
<span>
<p style="margin-top:1em; text-align:center">
<b>Important note</b>
</p>
<p style="margin:1em">
This vignette represent tentative work-in-progress only. The general
applicability and efficacy of using large-language models (LLMs)
including ChatGPT for title and abstract screening in literature reviews
are still unknown. Our first results suggest that ChatGPT can be a
reliable second screener when reviewing specific and well defined
interventions. The first evidence of this is shown in this vignette.
However, be aware that our first results are based on a retrospective
analysis which might not generalize to prospective screenings where
ChatGPT potentially has not been trained on that reference data, that is
data added to the internet after 2021. We have started testing the
AIscreenR on more complex reviews. Here it seems to be harder to make
concise prompts that can make ChatGPT emulating a reliable human second
screener. Yet, the first tentative evidence for complex reviews suggests
that ChatGPT can function well to reduce the total number of references
that has to be screened by humans.
</p>
<p></p></span>
</div>
<p>An all-important step to ensure the quality of systematic reviews
involves detecting all relevant references related to the literature
under review. Usually, this involves independent double screening of all
references detected in relevant databases and literature with two human
screeners. This procedure has shown pivotal since less experienced
single screeners tend to miss around 13 % relavant studies (with 5 % for
experienced screeners), which in most cases substantially change the
main review findings (Waffenschmidt, 2019). Yet, double-screening is a
costly and resource intensive procedure, excluding many researchers from
using it. An alternative to human double-screening is to use automated
tools to act as the second screener (Gartlehner et al., 2019; van de
Schoot et al. 2021). Hereto, most evaluations of existing tools finds
that most automated tools fail to reliably act as/imitating a human
second screener. Meanwhile, it is still unknown how well or if the newly
developed large-language models (LLMs) such as <a href="https://chat.openai.com/" class="external-link">ChatGPT</a> can work and possibly
emulate a human second screener. The aim of the <code>AIscreenR</code>
package is to support the use and testing of ChatGPT as a the second
screener or alternatively to reduce research waste. Concretely the
package allow user to apply the gpt models from the <a href="https://platform.openai.com/docs/models/model-endpoint-compatibility" class="external-link">https://api.openai.com/v1/chat/completions</a>
endpoint. In future developments, we expect to add further LLMs (such as
Bard) when APIs are available for those LLMs. For now, we invite other
researchers to test this software so that we as a review community can
get a better understanding of the performance of the gpt models from
OpenAI as second screeners. In this vignette, we show how a title and
abstract screening with ChatGPT can be done in R. The advantages of
conducting the screening with ChatGPT via R is 1) that reviewers can
easily work with a large number of references, avoiding copy-paste
procedures, 2) that the total screening time can be substantially
increased relative to using the ChatGPT interface, and 3) that
consistency between gpt answer for the same title and abstract can
easily be tested. In this vignette, we also show the first proof of
concept for the use of ChatGPT as a reliable second screener. This goes
without saying that ChatGPT works in all cases, and we think the tool
should be use carefully and should always assisted by a human
(human-in-the-loop). Consequently, we do not recommend to use the the
ChatGPT as a single screener.</p>
<div class="section level3">
<h3 id="loading-relevant-ris-file-data-for-screening">Loading relevant ris file data for screening<a class="anchor" aria-label="anchor" href="#loading-relevant-ris-file-data-for-screening"></a>
</h3>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Loading packages </span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://mikkelvembye.github.io/AIscreenR/">AIscreenR</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://revtools.net" class="external-link">revtools</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://tibble.tidyverse.org/" class="external-link">tibble</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://dplyr.tidyverse.org" class="external-link">dplyr</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://purrr.tidyverse.org/" class="external-link">purrr</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://usethis.r-lib.org" class="external-link">usethis</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://future.futureverse.org" class="external-link">future</a></span><span class="op">)</span></span>
<span></span>
<span></span>
<span><span class="co"># Loading excluded studies</span></span>
<span><span class="co"># Consider making AIscreenR_example function as https://github.com/tidyverse/readxl/blob/HEAD/R/example.R </span></span>
<span><span class="va">excl_path</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"extdata"</span>, <span class="st">"excl_tutorial.ris"</span>, package <span class="op">=</span> <span class="st">"AIscreenR"</span><span class="op">)</span></span>
<span><span class="va">ris_dat_excl</span> <span class="op">&lt;-</span> <span class="fu">revtools</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/revtools/man/read_bibliograpy.html" class="external-link">read_bibliography</a></span><span class="op">(</span><span class="va">excl_path</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/warning.html" class="external-link">suppressWarnings</a></span><span class="op">(</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="https://tibble.tidyverse.org/reference/as_tibble.html" class="external-link">as_tibble</a></span><span class="op">(</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="va">author</span>, <span class="va">eppi_id</span>, <span class="va">title</span>, <span class="va">abstract</span><span class="op">)</span> <span class="op">|&gt;</span> <span class="co"># Using only relevant variables</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span></span>
<span>    human_code <span class="op">=</span> <span class="fl">0</span></span>
<span>  <span class="op">)</span></span>
<span></span>
<span><span class="co"># Loading included studies</span></span>
<span><span class="va">incl_path</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"extdata"</span>, <span class="st">"incl_tutorial.ris"</span>, package <span class="op">=</span> <span class="st">"AIscreenR"</span><span class="op">)</span></span>
<span><span class="va">ris_dat_incl</span> <span class="op">&lt;-</span> <span class="fu">revtools</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/revtools/man/read_bibliograpy.html" class="external-link">read_bibliography</a></span><span class="op">(</span><span class="va">incl_path</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/warning.html" class="external-link">suppressWarnings</a></span><span class="op">(</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="https://tibble.tidyverse.org/reference/as_tibble.html" class="external-link">as_tibble</a></span><span class="op">(</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="va">author</span>, <span class="va">eppi_id</span>, <span class="va">title</span>, <span class="va">abstract</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span></span>
<span>    human_code <span class="op">=</span> <span class="fl">1</span></span>
<span>  <span class="op">)</span></span>
<span></span>
<span><span class="co"># Check why filges2015_data and filges2015_dat differs </span></span>
<span><span class="va">filges2015_dat</span> <span class="op">&lt;-</span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/bind_rows.html" class="external-link">bind_rows</a></span><span class="op">(</span><span class="va">ris_dat_excl</span>, <span class="va">ris_dat_incl</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span></span>
<span>    studyid <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/context.html" class="external-link">n</a></span><span class="op">(</span><span class="op">)</span></span>
<span>  <span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/relocate.html" class="external-link">relocate</a></span><span class="op">(</span><span class="va">studyid</span>, .after <span class="op">=</span> <span class="va">eppi_id</span><span class="op">)</span></span>
<span></span>
<span><span class="co">#?filges2015_dat</span></span>
<span><span class="va">filges2015_dat</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 150 × 6</span></span></span>
<span><span class="co">#&gt;    author                              eppi_id studyid title abstract human_code</span></span>
<span><span class="co">#&gt;    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>                               <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>         <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 1</span> Holloway R G and Gramling R and Ke… 9434957       1 Esti… <span style="color: #949494;">"</span>Progno…          0</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 2</span> Morawska Alina and Stallman Helen … 9433838       2 Self… <span style="color: #949494;">"</span>Behavi…          0</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 3</span> Michel C M and Pascual-Marqui R D … 9431171       3 Freq… <span style="color: #949494;">"</span>The to…          0</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 4</span> Paul Howard A                       9433968       4 A Re… <span style="color: #949494;">"</span>The ar…          0</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 5</span> Feinberg I and De Bie E and Davis … 9434460       5 Topo… <span style="color: #949494;">"</span>STUDY …          0</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 6</span> Hamburg Sam R                       9433554       6 BOOK… <span style="color: #949494;">"</span>The ar…          0</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 7</span> Park H Y and Lee B J and Kim J H a… 9435130       7 Rapi… <span style="color: #949494;">"</span>Backgr…          0</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 8</span> Petrek J                            9432040       8 Pict… <span style="color: #949494;">"</span>AIMS: …          0</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 9</span> Schwartzman Meredith P and Wahler … 9434093       9 Enha… <span style="color: #949494;">"</span>New an…          0</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">10</span> Faber J and Srutova L and Pilarova… 9431505      10 EEG … <span style="color: #949494;">"</span>Sponta…          0</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 140 more rows</span></span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="getting-api-key-openai">Getting API key OpenAI<a class="anchor" aria-label="anchor" href="#getting-api-key-openai"></a>
</h3>
<p>Before you can use the function from <code>AIscreenR</code>, you must
generate your own secret API key. To do so you must first ensure that
you have created an account at OpenAI (<em>if you have not done so at
this stage, you can sign up <a href="https://auth0.openai.com/u/login/identifier?state=hKFo2SBqQjNHSlc1ejIyREpUb01hdDF2OHEzQy12NnJwWlFUN6Fur3VuaXZlcnNhbC1sb2dpbqN0aWTZIEJSOWJaamdKLWswNGlfWDQ2NER1OXJmVUNpVmVzVjZfo2NpZNkgRFJpdnNubTJNdTQyVDNLT3BxZHR3QjNOWXZpSFl6d0Q" class="external-link">here</a>).</em>
When having an account, go to <a href="https://platform.openai.com/account/api-keys" class="external-link">https://platform.openai.com/account/api-keys</a>
and press the <code>+ Create new secret key</code> button (see picture
below) and give your key a name.</p>
<p> </p>
<p><img src="helper-stuff/API_key_pic.png" width="100%">  </p>
<p>When you have generate your secret API key, remember to store it
safely since you will not be able see it again. <strong>NOTE</strong>:
<em>If you lose your API key, you can just generate a new one</em>.</p>
</div>
<div class="section level3">
<h3 id="handling-your-api-key-with-aiscreenr">Handling your API key with <code>AIscreenR</code><a class="anchor" aria-label="anchor" href="#handling-your-api-key-with-aiscreenr"></a>
</h3>
<div class="section level4">
<h4 id="temporary-solution">Temporary solution<a class="anchor" aria-label="anchor" href="#temporary-solution"></a>
</h4>
</div>
<div class="section level4">
<h4 id="pemanent-solution">Pemanent solution<a class="anchor" aria-label="anchor" href="#pemanent-solution"></a>
</h4>
<p>To add your API key permanently as an environment variables, you can
execute <code><a href="https://usethis.r-lib.org/reference/edit.html" class="external-link">usethis::edit_r_environ()</a></code>.</p>
<p> </p>
<p><img src="helper-stuff/Renviron.png" width="100%">  </p>
<p>After entering the API key, save the <code>.Renviron</code> document
and restart <code>RStudio</code> (ctrl + shift + F10).</p>
</div>
</div>
<div class="section level3">
<h3 id="retrieve-rate-limit-information">Retrieve rate limit information<a class="anchor" aria-label="anchor" href="#retrieve-rate-limit-information"></a>
</h3>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Rate limits across one model (Default is "gpt-3.5-turbo-0613")</span></span>
<span><span class="va">rate_limits</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/rate_limits_per_minute.html">rate_limits_per_minute</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="va">rate_limits</span></span>
<span><span class="co">#&gt; # A tibble: 1 × 3</span></span>
<span><span class="co">#&gt;   model              requests_per_minute tokens_per_minute</span></span>
<span><span class="co">#&gt;   &lt;chr&gt;                            &lt;dbl&gt;             &lt;dbl&gt;</span></span>
<span><span class="co">#&gt; 1 gpt-3.5-turbo-0613                3500             90000</span></span>
<span></span>
<span></span>
<span><span class="co"># Rate limits overview across multiple models</span></span>
<span><span class="va">models</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"gpt-3.5-turbo-0613"</span>, <span class="st">"gpt-4"</span><span class="op">)</span></span>
<span><span class="va">models_rate_limits</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/rate_limits_per_minute.html">rate_limits_per_minute</a></span><span class="op">(</span>model <span class="op">=</span> <span class="va">models</span><span class="op">)</span> <span class="co"># Add further models if necessary</span></span>
<span><span class="va">models_rate_limits</span></span>
<span><span class="co">#&gt; # A tibble: 2 × 3</span></span>
<span><span class="co">#&gt;   model              requests_per_minute tokens_per_minute</span></span>
<span><span class="co">#&gt;   &lt;chr&gt;                            &lt;dbl&gt;             &lt;dbl&gt;</span></span>
<span><span class="co">#&gt; 1 gpt-3.5-turbo-0613                3500             90000</span></span>
<span><span class="co">#&gt; 2 gpt-4                              200             10000</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="approximate-price-of-screening">Approximate price of screening<a class="anchor" aria-label="anchor" href="#approximate-price-of-screening"></a>
</h3>
<p>Example of how to enter a prompt. Can also be done in word.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">prompt</span> <span class="op">&lt;-</span> <span class="st">"Evaluate the following study based on the selection criteria</span></span>
<span><span class="st">for a systematic review on the effects of family-based interventions on drug </span></span>
<span><span class="st">abuse reduction for young people in treatment for non-opioid drug use.</span></span>
<span><span class="st">A family-based intervention (FFT) is equivalent to a behavior focused</span></span>
<span><span class="st">family therapy, where young people’s drug use is understood in relation to </span></span>
<span><span class="st">family behavior problems. Family-based interventions also includes manual-based </span></span>
<span><span class="st">family therapies as it targets young people and their families as a system </span></span>
<span><span class="st">throughout treatment, and thereby recognizes the important role of the family </span></span>
<span><span class="st">system in the development and treatment of young people’s drug use problems. </span></span>
<span><span class="st">FFT was developed in the late 1980s on request from the US National Institute on</span></span>
<span><span class="st">Drug Abuse (NIDA). The development of FFT was initially heavily inspired by the </span></span>
<span><span class="st">alcohol abuse program Community Reinforcement Approach (CRA), which was aimed </span></span>
<span><span class="st">at restructuring the environment to reinforce non-alcohol associated activities. </span></span>
<span><span class="st">FFT developed to have more emphasis on contingency contracting, impulse control </span></span>
<span><span class="st">strategies specific to drug use, and increased emphasis on involvement of family </span></span>
<span><span class="st">members in treatment. FFT is designed to accommodate diverse populations of </span></span>
<span><span class="st">youths with a variety of behavioral, cultural and individual preferences. </span></span>
<span><span class="st">FFT has evolved for use in severe behavioral disturbances known to co-exist with</span></span>
<span><span class="st">substance use and dependence, and the core interventions have been enhanced to </span></span>
<span><span class="st">address several mental health related problems commonly occurring</span></span>
<span><span class="st">as comorbid conditions in drug use treatment participant.  For each study,</span></span>
<span><span class="st">I would like you to assess:  1) Is the study about a family-based intervention,</span></span>
<span><span class="st">such as Functional Family Therapy, Multidimensional Family Therapy, or</span></span>
<span><span class="st">Behavioral Family Therapy? (Outpatient manual-based interventions of any</span></span>
<span><span class="st">duration delivered to young people and their families). If not, exclude study.</span></span>
<span><span class="st">2) Are the participants in outpatient drug treatment primarily</span></span>
<span><span class="st">for non-opioid drug use? 3) Are the participants within age 11–21?"</span></span></code></pre></div>
<p>Approximate price of screening</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">reps</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">10</span>, <span class="fl">1</span><span class="op">)</span></span>
<span></span>
<span><span class="va">app_obj</span> <span class="op">&lt;-</span> </span>
<span>  <span class="fu"><a href="../reference/approximate_price_gpt.html">approximate_price_gpt</a></span><span class="op">(</span></span>
<span>    data <span class="op">=</span> <span class="va">filges2015_dat</span>, <span class="co"># Tutorial data embedded in the package</span></span>
<span>    prompt <span class="op">=</span> <span class="va">prompt</span>, </span>
<span>    studyid <span class="op">=</span> <span class="va">studyid</span>, <span class="co"># indicate the variable with the studyid in the data</span></span>
<span>    title <span class="op">=</span> <span class="va">title</span>, <span class="co"># indicate the variable with the titles in the data</span></span>
<span>    abstract <span class="op">=</span> <span class="va">abstract</span>, <span class="co"># indicate the variable with the abstracts in the data</span></span>
<span>    model <span class="op">=</span> <span class="va">models</span>,</span>
<span>    reps <span class="op">=</span> <span class="va">reps</span> </span>
<span>  <span class="op">)</span></span>
<span></span>
<span><span class="va">app_obj</span></span>
<span><span class="co">#&gt; The approximate price of the (simple) screening will be around $7.5449.</span></span>
<span></span>
<span><span class="va">app_obj</span><span class="op">$</span><span class="va">price_dollar</span></span>
<span><span class="co">#&gt; [1] 7.5449</span></span>
<span><span class="va">app_obj</span><span class="op">$</span><span class="va">price_data</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 2 × 5</span></span></span>
<span><span class="co">#&gt;   model     iterations input_price_dollar output_price_dollar total_price_dollor</span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>          <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>              <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>               <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>              <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span> gpt-3.5-…         10               2.47               0.033               2.50</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span> gpt-4              1               4.94               0.099               5.04</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="screen-titles-and-abstracts">Screen titles and abstracts<a class="anchor" aria-label="anchor" href="#screen-titles-and-abstracts"></a>
</h3>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://future.futureverse.org/reference/plan.html" class="external-link">plan</a></span><span class="op">(</span><span class="va">multisession</span><span class="op">)</span></span>
<span></span>
<span><span class="va">FFT_screen_obj</span> <span class="op">&lt;-</span> </span>
<span>  <span class="fu"><a href="../reference/tabscreen_gpt.html">tabscreen_gpt</a></span><span class="op">(</span></span>
<span>    data <span class="op">=</span> <span class="va">filges2015_dat</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">2</span><span class="op">)</span>,<span class="op">]</span>,</span>
<span>    prompt <span class="op">=</span> <span class="va">prompt</span>,</span>
<span>    studyid <span class="op">=</span> <span class="va">studyid</span>, <span class="co"># indicate the variable with the studyid in the data</span></span>
<span>    title <span class="op">=</span> <span class="va">title</span>, <span class="co"># indicate the variable with the titles in the data</span></span>
<span>    abstract <span class="op">=</span> <span class="va">abstract</span>, <span class="co"># indicate the variable with the abstracts in the data,</span></span>
<span>    model <span class="op">=</span> <span class="va">models</span>,</span>
<span>    reps <span class="op">=</span> <span class="va">reps</span></span>
<span>  <span class="op">)</span></span>
<span><span class="co">#&gt; * The approximate price of the current (simple) screening will be around $0.0845.</span></span>
<span><span class="co">#&gt;  Progress: ────────────────────────────────────────────────────────────────────────── 100%</span></span>
<span></span>
<span><span class="fu"><a href="https://future.futureverse.org/reference/plan.html" class="external-link">plan</a></span><span class="op">(</span><span class="va">sequential</span><span class="op">)</span></span>
<span></span>
<span><span class="va">FFT_screen_obj</span></span>
<span><span class="co">#&gt; Find data with all answers by executing</span></span>
<span><span class="co">#&gt;  object_name$answer_data_all </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Find data with the result aggregated across multiple answers by executing</span></span>
<span><span class="co">#&gt;  object_name$answer_data_sum</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Find total price for the screening by executing</span></span>
<span><span class="co">#&gt;  object_name$price_dollor</span></span>
<span><span class="co">#&gt;  </span></span>
<span><span class="co">#&gt; If some requests failed, find the error data by executing</span></span>
<span><span class="co">#&gt;  object_name$error_data</span></span>
<span>  </span></code></pre></div>
</div>
<div class="section level2">
<h2 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a>
</h2>
<p>Gartlehner, G., Wagner, G., Lux, L. et al. (2019). Assessing the
accuracy of machine-assisted abstract screening with DistillerAI: a user
study. <em>Systematic Reviews</em>. 8, 1-10. <a href="https://doi.org/10.1186/s13643-019-1221-3" class="external-link uri">https://doi.org/10.1186/s13643-019-1221-3</a></p>
<p>Waffenschmidt, S., Knelangen, M., Sieben, W., Bühn, S., &amp; Pieper,
D. (2019). Single screening versus conventional double screening for
study selection in systematic reviews: a methodological systematic
review. <em>BMC Medical Research Methodology</em> 19, 1-9. <a href="https://doi.org/10.1186/s12874-019-0782-0" class="external-link uri">https://doi.org/10.1186/s12874-019-0782-0</a></p>
<p>Westgate MJ (2019). revtools: An R package to support article
screening for evidence synthesis. <em>Research Synthesis Methods</em>.
<a href="doi:10.1002/jrsm.1374" class="uri">doi:10.1002/jrsm.1374</a> <a href="https://doi.org/10.1002/jrsm.1374" class="external-link uri">https://doi.org/10.1002/jrsm.1374</a>.</p>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by Mikkel H. Vembye.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
