<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="

This function supports the conduct of title and abstract screening with ChatGPT in R.
The function allows to run title and abstract screening across multiple prompts and with
repeated questions to check for consistency across answers. This function draws
on the newly developed function calling to better steer the output of the responses."><title>Title and abstract screening with ChatGPT using function calls. — tabscreen_gpt • AIscreenR</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.2.2/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.2.2/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Title and abstract screening with ChatGPT using function calls. — tabscreen_gpt"><meta property="og:description" content="

This function supports the conduct of title and abstract screening with ChatGPT in R.
The function allows to run title and abstract screening across multiple prompts and with
repeated questions to check for consistency across answers. This function draws
on the newly developed function calling to better steer the output of the responses."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">AIscreenR</a>

    <small class="nav-text text-danger me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Unreleased version">0.0.0.9008</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/Using-ChatGPT-For-Screening.html">Using ChatGPT for Title and Abstract Screening in Systematic Reviews</a>
  </div>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/MikkelVembye/AIscreenR/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Title and abstract screening with ChatGPT using function calls.</h1>
      <small class="dont-index">Source: <a href="https://github.com/MikkelVembye/AIscreenR/blob/HEAD/R/tabscreen_chatgpt.R" class="external-link"><code>R/tabscreen_chatgpt.R</code></a></small>
      <div class="d-none name"><code>tabscreen_gpt.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p><a href="https://lifecycle.r-lib.org/articles/stages.html#stable" class="external-link"><img src="figures/lifecycle-stable.svg" alt="[Stable]"></a><br><br>
This function supports the conduct of title and abstract screening with ChatGPT in R.
The function allows to run title and abstract screening across multiple prompts and with
repeated questions to check for consistency across answers. This function draws
on the newly developed function calling to better steer the output of the responses.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">tabscreen_gpt</span><span class="op">(</span></span>
<span>  <span class="va">data</span>,</span>
<span>  <span class="va">prompt</span>,</span>
<span>  <span class="va">studyid</span>,</span>
<span>  <span class="va">title</span>,</span>
<span>  <span class="va">abstract</span>,</span>
<span>  <span class="va">...</span>,</span>
<span>  arrange_var <span class="op">=</span> <span class="va">studyid</span>,</span>
<span>  model <span class="op">=</span> <span class="st">"gpt-3.5-turbo-0613"</span>,</span>
<span>  role <span class="op">=</span> <span class="st">"user"</span>,</span>
<span>  functions <span class="op">=</span> <span class="va">incl_function_simple</span>,</span>
<span>  function_call_name <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>name <span class="op">=</span> <span class="st">"inclusion_decision_simple"</span><span class="op">)</span>,</span>
<span>  top_p <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  time_info <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  token_info <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  api_key <span class="op">=</span> <span class="fu"><a href="get_api_key.html">get_api_key</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  max_tries <span class="op">=</span> <span class="fl">8</span>,</span>
<span>  max_seconds <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  is_transient <span class="op">=</span> <span class="va">gpt_is_transient</span>,</span>
<span>  backoff <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  after <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  rpm <span class="op">=</span> <span class="fl">3500</span>,</span>
<span>  reps <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  seed <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  progress <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  messages <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  incl_cutoff_upper <span class="op">=</span> <span class="fl">0.5</span>,</span>
<span>  incl_cutoff_lower <span class="op">=</span> <span class="fl">0.4</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>data</dt>
<dd><p>Dataset containing the titles and abstracts.</p></dd>


<dt>prompt</dt>
<dd><p>Prompt(s) to paste before the title and abstract.</p></dd>


<dt>studyid</dt>
<dd><p>Unique ID of study. If missing, this is generated
automatically.</p></dd>


<dt>title</dt>
<dd><p>Name of the variable containing the title information.</p></dd>


<dt>abstract</dt>
<dd><p>Name of variable containing the abstract information.</p></dd>


<dt>...</dt>
<dd><p>Further argument to pass to the request body.
See <a href="https://platform.openai.com/docs/api-reference/chat/create" class="external-link">https://platform.openai.com/docs/api-reference/chat/create</a>.</p></dd>


<dt>arrange_var</dt>
<dd><p>Function indicating the variables determining the arrangement
of the data. Default is <code>studyid</code>.</p></dd>


<dt>model</dt>
<dd><p>Character string with the name of the completion model. Can take
multiple models, including gpt-4 models. Default = <code>"gpt-3.5-turbo-0613"</code>.
Find available model at
<a href="https://platform.openai.com/docs/models/model-endpoint-compatibility" class="external-link">https://platform.openai.com/docs/models/model-endpoint-compatibility</a>.</p></dd>


<dt>role</dt>
<dd><p>Character string indicate the role of the user. Default is <code>"user"</code>.</p></dd>


<dt>functions</dt>
<dd><p>Function to steer output. Default is <code>incl_function_simple</code>.
To get detailed responses use the <code>AIscreenR:::incl_function</code>. Also see 'Examples below.
Find further documentation for function calling at
<a href="https://openai.com/blog/function-calling-and-other-api-updates" class="external-link">https://openai.com/blog/function-calling-and-other-api-updates</a>.</p></dd>


<dt>function_call_name</dt>
<dd><p>Functions to call.
Default is <code>list(name = "inclusion_decision_simple")</code>. To get detailed responses
use <code>list(name = "inclusion_decision")</code>. Also see 'Examples below.</p></dd>


<dt>top_p</dt>
<dd><p>'An alternative to sampling with temperature, called nucleus sampling,
where the model considers the results of the tokens with top_p probability mass.
So 0.1 means only the tokens comprising the top 10% probability mass are considered.
We generally recommend altering this or temperature but not both.' (OPEN-AI). Default is 1.
Find documentation at
<a href="https://platform.openai.com/docs/api-reference/chat/create#chat/create-top_p" class="external-link">https://platform.openai.com/docs/api-reference/chat/create#chat/create-top_p</a>.</p></dd>


<dt>time_info</dt>
<dd><p>Logical indicating whether the run time of each
request/question should be included in the data. Default = <code>TRUE</code>.</p></dd>


<dt>token_info</dt>
<dd><p>Logical indicating whether the number of prompt and completion tokens
per request should be included in the output data. Default = <code>TRUE</code>. When <code>TRUE</code>,
the output object will include price information of the conducted screening.</p></dd>


<dt>api_key</dt>
<dd><p>Numerical value with your personal API key. Find at
<a href="https://platform.openai.com/account/api-keys" class="external-link">https://platform.openai.com/account/api-keys</a>. Use
<code>secret_make_key()</code>, <code>secret_encrypt()</code>, and
<code>secret_decrypt()</code> to scramble and decrypt the api key and
use <code><a href="set_api_key.html">set_api_key()</a></code> to securely automate the use of the
api key by setting the api key as a locale environment variable.</p></dd>


<dt>max_tries, max_seconds</dt>
<dd><p>'Cap the maximum number of attempts with
<code>max_tries</code> or the total elapsed time from the first request with
<code>max_seconds</code>. If neither option is supplied (the default), <code>req_perform()</code>
will not retry' (Wickham, 2023).</p></dd>


<dt>is_transient</dt>
<dd><p>'A predicate function that takes a single argument
(the response) and returns <code>TRUE</code> or <code>FALSE</code> specifying whether or not
the response represents a transient error' (Wickham, 2023).</p></dd>


<dt>backoff</dt>
<dd><p>'A function that takes a single argument (the number of failed
attempts so far) and returns the number of seconds to wait' (Wickham, 2023).</p></dd>


<dt>after</dt>
<dd><p>'A function that takes a single argument (the response) and
returns either a number of seconds to wait or <code>NULL</code>, which indicates
that a precise wait time is not available that the <code>backoff</code> strategy
should be used instead' (Wickham, 2023).</p></dd>


<dt>rpm</dt>
<dd><p>Numerical value indicating the number of requests per minute (rpm)
available for the specified api key. Find more information at
<a href="https://platform.openai.com/docs/guides/rate-limits/what-are-the-rate-limits-for-our-api" class="external-link">https://platform.openai.com/docs/guides/rate-limits/what-are-the-rate-limits-for-our-api</a>.
Alternatively, use <code><a href="rate_limits_per_minute.html">rate_limits_per_minute()</a></code>.</p></dd>


<dt>reps</dt>
<dd><p>Numerical value indicating the number of times the same
question should be sent to ChatGPT. This can be useful to test consistency
between answers. Default is <code>1</code> but when using 3.5 models, we recommend setting this
value to <code>10</code>.</p></dd>


<dt>seed</dt>
<dd><p>Numerical value for a seed to ensure that proper,
parallel-safe random numbers are produced.</p></dd>


<dt>progress</dt>
<dd><p>Logical indicating whether a progress line should be shown when running
the title and abstract screening in parallel. Default is <code>TRUE</code>.</p></dd>


<dt>messages</dt>
<dd><p>Logical indicating whether to print messages embedded in the function.
Defualt is <code>TRUE</code>.</p></dd>


<dt>incl_cutoff_upper</dt>
<dd><p>Numerical value indicating the probability threshold
for which a studies should be included. Default is 0.5, which indicates that
titles and abstracts that ChatGPT has included more than 50 percent of the times
should be included.</p></dd>


<dt>incl_cutoff_lower</dt>
<dd><p>Numerical value indicating the probability threshold
above which studies should be check by a human. Default is 0.4, which means
that if you ask ChatGPT the same questions 10 times and it includes the
title and abstract 4 times, we suggest that the study should be check by a human.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    

<p>An object of class <code>"chatgpt"</code>. The object is a list containing the following
components:</p>
<dl><dt>answer_data_sum</dt>
<dd><p>dataset with the summerized, probalistic inclusion decision
for each title and abstract across multiple repeated questions.</p></dd>

<dt>answer_data_all</dt>
<dd><p>dataset with all individual answers.</p></dd>

<dt>price</dt>
<dd><p>numerical value indicating the total price (in USD) of the screening.</p></dd>

<dt>price_data</dt>
<dd><p>dataset with prices across all gpt models used for screening.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="note">Note<a class="anchor" aria-label="anchor" href="#note"></a></h2>
    <p>The <code>answer_data_sum</code> data contains the following mandatory variables:</p><table class="table table"><tr><td><b>studyid</b></td><td><code>integer</code></td><td>indicating the study ID of the reference.</td></tr><tr><td><b>title</b></td><td><code>character</code></td><td>indicating the title of the reference.</td></tr><tr><td><b>abstract</b></td><td><code>character</code></td><td>indicating the abstract of the reference.</td></tr><tr><td><b>promptid</b></td><td><code>integer</code></td><td>indicating the prompt ID.</td></tr><tr><td><b>prompt</b></td><td><code>character</code></td><td>indicating the prompt.</td></tr><tr><td><b>model</b></td><td><code>character</code></td><td>indicating the specific gpt-model used.</td></tr><tr><td><b>question</b></td><td><code>character</code></td><td>indicating the final question sent to ChatGPT.</td></tr><tr><td><b>top_p</b></td><td><code>numeric</code></td><td>indicating the applied top_p.</td></tr><tr><td><b>incl_p</b></td><td><code>numeric</code></td><td>indicating the probability of inclusion calculated across multiple repeated responses on the same title and abstract.</td></tr><tr><td><b>final_decision_gpt</b></td><td><code>character</code></td><td>indicating the final decision reached by gpt - either 'Include', 'Exclude', or 'Check'.</td></tr><tr><td><b>final_decision_gpt_num</b></td><td><code>integer</code></td><td>indicating the final numeric decision reached by gpt - either 1 or 0.</td></tr><tr><td><b>longest_answer</b></td><td><code>character</code></td><td>indicating the longest gpt response obtained
across multiple repeated responses on the same title and abstract. Only included if the detailed function calling
function is used. See 'Examples' below for how to use this function.</td></tr><tr><td><b>reps</b></td><td><code>integer</code></td><td>indicating the number of times the same question has been sent to ChatGPT.</td></tr><tr><td><b>n_mis_answers</b></td><td><code>integer</code></td><td>indicating the number of missing responses</td></tr></table><p><br>
The <code>answer_data_all</code> data contains the following mandatory variables:</p><table class="table table"><tr><td><b>studyid</b></td><td><code>integer</code></td><td>indicating the study ID of the reference.</td></tr><tr><td><b>title</b></td><td><code>character</code></td><td>indicating the title of the reference.</td></tr><tr><td><b>abstract</b></td><td><code>character</code></td><td>indicating the abstract of the reference.</td></tr><tr><td><b>promptid</b></td><td><code>integer</code></td><td>indicating the prompt ID.</td></tr><tr><td><b>prompt</b></td><td><code>character</code></td><td>indicating the prompt.</td></tr><tr><td><b>model</b></td><td><code>character</code></td><td>indicating the specific gpt-model used.</td></tr><tr><td><b>iterations</b></td><td><code>numeric</code></td><td>indicating the number of times the same question has been sent to ChatGPT.</td></tr><tr><td><b>question</b></td><td><code>character</code></td><td>indicating the final question sent to ChatGPT.</td></tr><tr><td><b>top_p</b></td><td><code>numeric</code></td><td>indicating the applied top_p.</td></tr><tr><td><b>decision_gpt</b></td><td><code>character</code></td><td>indicating the raw gpt decision - either <code>"1", "0", "1.1"</code> for inclusion, exclusion, or uncertainty, respectively.</td></tr><tr><td><b>detailed_description</b></td><td><code>character</code></td><td>indicating detailed description of the given decision made by ChatGPT.
Only included if the detailed function calling function is used. See 'Examples' below for how to use this function.</td></tr><tr><td><b>decision_binary</b></td><td><code>integer</code></td><td>indicating the binary gpt decision,
that is 1 for inclusion and 0 for exclusion. 1.1 decision are coded equal to 1 in this case.</td></tr><tr><td><b>prompt_tokens</b></td><td><code>integer</code></td><td>indicating the number of prompt tokens sent to the server for the given request.</td></tr><tr><td><b>completion_tokens</b></td><td><code>integer</code></td><td>indicating the number of completion tokens sent to the server for the given request.</td></tr><tr><td><b>run_time</b></td><td><code>numeric</code></td><td>indicating the time it took to obtain a response from the server for the given request.</td></tr><tr><td><b>n</b></td><td><code>integer</code></td><td>indicating request ID.</td></tr></table><p><br>
If any requests failed to reach the server, the <code>chatgpt</code> object contains an
error data set (<code>error_data</code>) having the same variables as <code>answer_data_all</code>
but with failed request references only.
<br></p>

<p>The <code>price_data</code> data contains the following variables:</p><table class="table table"><tr><td><b>model</b></td><td><code>character</code></td><td>gpt model.</td></tr><tr><td><b>input_price_dollar</b></td><td><code>integer</code></td><td>price for all prompt/input tokens for the correspondent gpt-model.</td></tr><tr><td><b>output_price_dollar</b></td><td><code>integer</code></td><td>price for all completion/output tokens for the correspondent gpt-model.</td></tr><tr><td><b>price_total_dollar</b></td><td><code>integer</code></td><td>total price for all tokens for the correspondent gpt-model.</td></tr></table><p>Find current token pricing at <a href="https://openai.com/pricing" class="external-link">https://openai.com/pricing</a>.</p>
    </div>
    <div class="section level2">
    <h2 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a></h2>
    <p>Wickham H (2023).
<em>httr2: Perform HTTP Requests and Process the Responses</em>.
https://httr2.r-lib.org, https://github.com/r-lib/httr2.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">prompt</span> <span class="op">&lt;-</span> <span class="st">"Is this study about a Functional Family Therapy (FFT) intervention?"</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu">tabscreen_gpt</span><span class="op">(</span></span></span>
<span class="r-in"><span>  data <span class="op">=</span> <span class="va">FFT_dat</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">2</span>,<span class="op">]</span>,</span></span>
<span class="r-in"><span>  prompt <span class="op">=</span> <span class="va">prompt</span>,</span></span>
<span class="r-in"><span>  studyid <span class="op">=</span> <span class="va">studyid</span>,</span></span>
<span class="r-in"><span>  title <span class="op">=</span> <span class="va">title</span>,</span></span>
<span class="r-in"><span>  abstract <span class="op">=</span> <span class="va">abstract</span>,</span></span>
<span class="r-in"><span>  model <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"gpt-3.5-turbo-0613"</span>, <span class="st">"gpt-3.5-turbo-16k-0613"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  max_tries <span class="op">=</span> <span class="fl">1</span>,</span></span>
<span class="r-in"><span>  reps <span class="op">=</span> <span class="fl">10</span></span></span>
<span class="r-in"><span>  <span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span> <span class="co"># Get detailed descriptions of the gpt decisions by using the</span></span></span>
<span class="r-in"><span> <span class="co"># embedded function calling functions from the package. See example below.</span></span></span>
<span class="r-in"><span> <span class="fu">tabscreen_gpt</span><span class="op">(</span></span></span>
<span class="r-in"><span>   data <span class="op">=</span> <span class="va">FFT_dat</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">2</span>,<span class="op">]</span>,</span></span>
<span class="r-in"><span>   prompt <span class="op">=</span> <span class="va">prompt</span>,</span></span>
<span class="r-in"><span>   studyid <span class="op">=</span> <span class="va">studyid</span>,</span></span>
<span class="r-in"><span>   title <span class="op">=</span> <span class="va">title</span>,</span></span>
<span class="r-in"><span>   abstract <span class="op">=</span> <span class="va">abstract</span>,</span></span>
<span class="r-in"><span>   functions <span class="op">=</span> <span class="fu">AIscreenR</span><span class="fu">:::</span><span class="va">incl_function</span>,</span></span>
<span class="r-in"><span>   function_call_name <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>name <span class="op">=</span> <span class="st">"inclusion_decision"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>   max_tries <span class="op">=</span> <span class="fl">1</span>,</span></span>
<span class="r-in"><span>   reps <span class="op">=</span> <span class="fl">2</span></span></span>
<span class="r-in"><span> <span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p></p><p>Developed by Mikkel H. Vembye.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer></div>

  

  

  </body></html>

