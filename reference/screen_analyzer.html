<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Analyze performance between the human and AI screening. — screen_analyzer • AIscreenR</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Analyze performance between the human and AI screening. — screen_analyzer"><meta name="description" content="

When both the human and AI title and abstract screening has been done, this function
allows you to calculate performance measures of the screening, including the overall
accuracy, specificity and sensitivity of the screening, as well as
inter-rater reliability kappa statistics."><meta property="og:description" content="

When both the human and AI title and abstract screening has been done, this function
allows you to calculate performance measures of the screening, including the overall
accuracy, specificity and sensitivity of the screening, as well as
inter-rater reliability kappa statistics."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">AIscreenR</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Released version">0.0.0.9999</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/Using-GPT-API-Models-For-Screening.html">Using OpenAI's GPT API models for Title and Abstract Screening in Systematic Reviews</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/MikkelVembye/AIscreenR/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Analyze performance between the human and AI screening.</h1>
      <small class="dont-index">Source: <a href="https://github.com/MikkelVembye/AIscreenR/blob/main/R/screen_analyzer.R" class="external-link"><code>R/screen_analyzer.R</code></a></small>
      <div class="d-none name"><code>screen_analyzer.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p><a href="https://lifecycle.r-lib.org/articles/stages.html#experimental" class="external-link"><img src="figures/lifecycle-experimental.svg" alt="[Experimental]"></a><br><br>
When both the human and AI title and abstract screening has been done, this function
allows you to calculate performance measures of the screening, including the overall
accuracy, specificity and sensitivity of the screening, as well as
inter-rater reliability kappa statistics.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">screen_analyzer</span><span class="op">(</span><span class="va">x</span>, human_decision <span class="op">=</span> <span class="va">human_code</span>, key_result <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-x">x<a class="anchor" aria-label="anchor" href="#arg-x"></a></dt>
<dd><p>An object of either class<code>'gpt'</code> or <code>'chatgpt'</code>
or a dataset of either class <code>'gpt_tbl'</code>, <code>'chatgpt_tbl'</code>, or <code>'gpt_agg_tbl'</code></p></dd>


<dt id="arg-human-decision">human_decision<a class="anchor" aria-label="anchor" href="#arg-human-decision"></a></dt>
<dd><p>Indicate the variable in the data that contains the human_decision.
This variable must be numeric, containing 1 (for included references) and 0 (for excluded references) only.</p></dd>


<dt id="arg-key-result">key_result<a class="anchor" aria-label="anchor" href="#arg-key-result"></a></dt>
<dd><p>Logical indicating if only the raw agreement, recall, and specificity measures should be returned.
Default is <code>TRUE</code>.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>A <code>tibble</code> with screening performance measures. The <code>tibble</code> includes the following variables:</p><table class="table table"><tr><td><b>promptid</b></td><td><code>integer</code></td><td>indicating the prompt ID.</td></tr><tr><td><b>model</b></td><td><code>character</code></td><td>indicating the specific gpt-model used.</td></tr><tr><td><b>reps</b></td><td><code>integer</code></td><td>indicating the number of times the same question was sent to GPT server.</td></tr><tr><td><b>top_p</b></td><td><code>numeric</code></td><td>indicating the applied top_p.</td></tr><tr><td><b>n_screened</b></td><td><code>integer</code></td><td>indicating the number of screened references.</td></tr><tr><td><b>n_missing</b></td><td><code>numeric</code></td><td>indicating the number of missing responses.</td></tr><tr><td><b>n_refs</b></td><td><code>integer</code></td><td>indicating the total number of references expected to be screened for the given condition.</td></tr><tr><td><b>human_in_gpt_ex</b></td><td><code>numeric</code></td><td>indicating the number of references included by humans and excluded by gpt.</td></tr><tr><td><b>human_ex_gpt_in</b></td><td><code>numeric</code></td><td>indicating the number of references excluded by humans and included by gpt.</td></tr><tr><td><b>human_in_gpt_in</b></td><td><code>numeric</code></td><td>indicating the number of references included by humans and included by gpt.</td></tr><tr><td><b>human_ex_gpt_ex</b></td><td><code>numeric</code></td><td>indicating the number of references excluded by humans and excluded by gpt.</td></tr><tr><td><b>accuracy</b></td><td><code>numeric</code></td><td>indicating the overall percent disagreement between human and gpt (Gartlehner et al., 2019).</td></tr><tr><td><b>p_agreement</b></td><td><code>numeric</code></td><td>indicating the overall percent agreement between human and gpt.</td></tr><tr><td><b>precision</b></td><td><code>numeric</code></td><td>"measures the ability to include only articles that should be included" (Syriani et al., 2023).</td></tr><tr><td><b>recall</b></td><td><code>numeric</code></td><td>"measures the ability to include all articles that should be included" (Syriani et al., 2023).</td></tr><tr><td><b>npv</b></td><td><code>numeric</code></td><td>Negative predictive value (NPV) "measures the ability to exclude only articles that should be excluded" (Syriani et al., 2023).</td></tr><tr><td><b>specificity</b></td><td><code>numeric</code></td><td>"measures the ability to exclude all articles that should be excluded" (Syriani et al., 2023).</td></tr><tr><td><b>bacc</b></td><td><code>numeric</code></td><td>"capture the accuracy of deciding both inclusion and exclusion classes" (Syriani et al., 2023).</td></tr><tr><td><b>F2</b></td><td><code>numeric</code></td><td>F-measure that "consider the cost of getting false negatives twice as costly as getting false positives" (Syriani et al., 2023).</td></tr><tr><td><b>mcc</b></td><td><code>numeric</code></td><td>indicating percent agreement for excluded references (Gartlehner et al., 2019).</td></tr><tr><td><b>irr</b></td><td><code>numeric</code></td><td>indicating the inter-rater reliability as described in McHugh (2012).</td></tr><tr><td><b>se_irr</b></td><td><code>numeric</code></td><td>indicating standard error for the inter-rater reliability.</td></tr><tr><td><b>cl_irr</b></td><td><code>numeric</code></td><td>indicating lower confidence interval for the inter-rater reliability.</td></tr><tr><td><b>cu_irr</b></td><td><code>numeric</code></td><td>indicating upper confidence interval for the inter-rater reliability.</td></tr><tr><td><b>level_of_agreement</b></td><td><code>character</code></td><td>interpretation of the inter-rater reliability as suggested by McHugh (2012).</td></tr></table></div>
    <div class="section level2">
    <h2 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a></h2>
    <p>Gartlehner, G., Wagner, G., Lux, L., Affengruber, L., Dobrescu, A., Kaminski-Hartenthaler, A., &amp; Viswanathan, M. (2019).
Assessing the accuracy of machine-assisted abstract screening with DistillerAI: a user study.
<em>Systematic Reviews</em>, 8(1), 277. <a href="https://doi.org/10.1186/s13643-019-1221-3" class="external-link">doi:10.1186/s13643-019-1221-3</a></p>
<p>McHugh, M. L. (2012).
Interrater reliability: The kappa statistic.
<em>Biochemia Medica</em>, 22(3), 276-282. <a href="https://pubmed.ncbi.nlm.nih.gov/23092060/" class="external-link">https://pubmed.ncbi.nlm.nih.gov/23092060/</a></p>
<p>Syriani, E., David, I., &amp; Kumar, G. (2023).
Assessing the Ability of ChatGPT to Screen Articles for Systematic Reviews.
<em>ArXiv Preprint ArXiv:2307.06464</em>.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span> <span class="co"># \dontrun{</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://future.futureverse.org" class="external-link">future</a></span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu"><a href="set_api_key.html">set_api_key</a></span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">prompt</span> <span class="op">&lt;-</span> <span class="st">"Is this study about a Functional Family Therapy (FFT) intervention?"</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://future.futureverse.org/reference/plan.html" class="external-link">plan</a></span><span class="op">(</span><span class="va">multisession</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">res</span> <span class="op">&lt;-</span> <span class="fu"><a href="tabscreen_gpt.tools.html">tabscreen_gpt</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  data <span class="op">=</span> <span class="va">filges2015_dat</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">2</span>,<span class="op">]</span>,</span></span>
<span class="r-in"><span>  prompt <span class="op">=</span> <span class="va">prompt</span>,</span></span>
<span class="r-in"><span>  studyid <span class="op">=</span> <span class="va">studyid</span>,</span></span>
<span class="r-in"><span>  title <span class="op">=</span> <span class="va">title</span>,</span></span>
<span class="r-in"><span>  abstract <span class="op">=</span> <span class="va">abstract</span></span></span>
<span class="r-in"><span>  <span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://future.futureverse.org/reference/plan.html" class="external-link">plan</a></span><span class="op">(</span><span class="va">sequential</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">res</span> <span class="op">|&gt;</span> <span class="fu">screen_analyzer</span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="op">}</span> <span class="co"># }</span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Mikkel H. Vembye.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer></div>





  </body></html>

